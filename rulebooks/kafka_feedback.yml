---
- name: kafka feedback
  hosts: all
  sources:
    - name: my_kafka
      ansible.eda.kafka:
        host: "{{ host | default('localhost') }}"
        port: "{{ port | default('9092') }}"
        encoding: "{{ encoding | default('utf-8') }}"
        topic: "{{ topic | default('demo') }}"
        group_id: "{{ group_id | default(None) }}"
        offset: "{{ offset | default('latest') }}"
        security_protocol: "{{ security_protocol | default('PLAINTEXT') }}"
        sasl_mechanism: "{{ sasl_mechanism | default('PLAIN') }}"
        feedback: true
  rules:
    - name: multi condition
      condition:
        all:
          - event.id == 1
          - event.id == 7
          - event.id == 9
      action:
        debug:
